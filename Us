-- User Audit Logs
SELECT 
    C.name AS UserName,
    C.email AS UserEmail,
    (SELECT TOP 1 D.name 
     FROM Roles D
     JOIN UserRolewebsiteGroupMappings E ON D.Id = E.RoleID 
     WHERE C.Id = E.UserId) AS Role,
    B.Name AS ActionName,
    B.value AS ActionValue,
    B.CreatedAt AS ActionCreatedAt
FROM 
    Useraction A
JOIN 
    Useractionparameters B ON A.Id = B.userAction_Id
JOIN 
    users C ON A.userId = C.Id

UNION ALL

-- General Audit Logs (assuming there is a separate AuditLogs table)
SELECT
    NULL AS UserName,        -- No user name in general audit logs
    NULL AS UserEmail,       -- No user email in general audit logs
    NULL AS Role,            -- No role in general audit logs
    AL.ActionName AS ActionName,
    AL.ActionDetails AS ActionValue,
    AL.CreatedAt AS ActionCreatedAt
FROM 
    AuditLogs AL;            -- Replace with the actual table and column names

